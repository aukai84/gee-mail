<html>
	<head>
		<script src="js/mail-generator.js"></script>
		<link href="css/style.css" rel="stylesheet" media="screen">
    <script>
      window.onload = function(){
        // ALL OF YOUR JAVASCRIPT CODE SHOULD GO HERE. 
        // We have to use window.onload so your JavaScript doesn't execute until the page has loaded and all HTML has been downloaded to your browser


        

        for (var i = 0; i < window.geemails.length; i++) {
        	
        	

        	var emailRow = document.createElement('tr');
        	emailRow.className = 'row';
        	
        	var senderContainer = document.createElement('td');
        	senderContainer.innerHTML = window.geemails[i].sender;
        
       
        	var subjectContainer = document.createElement('td');
      		subjectContainer.innerHTML = window.geemails[i].subject;
        	

        	var dateContainer = document.createElement('td');
        	dateContainer.innerHTML = window.geemails[i].date;
        
        	

        	//appending table data to email row
        	emailRow.appendChild(senderContainer);
        	emailRow.appendChild(subjectContainer);
        	emailRow.appendChild(dateContainer);
        	//add event listener click to show body
        	emailRow.addEventListener('click', toggleBody);
        	//creating body row with body data appended to body row
        	var bodyRow = document.createElement('tr');
        	bodyRow.className = 'bodyRow';
        	var bodyContainer = document.createElement('td')
        	bodyContainer.colSpan = "3";
        	bodyContainer.innerHTML = window.geemails[i].body;
        	bodyRow.appendChild(bodyContainer);
        	bodyRow.style.display = 'none';



        	//appending email row and body row to ENTIRE TABLE BODY
        	tableBody.appendChild(emailRow);
        	tableBody.appendChild(bodyRow);



        	function toggleBody() {
        	
        	if (bodyRow.style.display ==='none') {
        		bodyRow.style.display ='block';
        	} else {
        		bodyRow.style.display ='none';
        	}
        }




        }

        

        

        function addMessage() {

        //added counter to display total number of inbox emails
      	i++;

      	inboxCount.innerHTML = "Inbox(" + i + ")";

      	var newestMessage = getNewMessage;

      	var newemailRow = document.createElement('tr');
        	newemailRow.className = 'row';
        	
        var newsenderContainer = document.createElement('td');
        	newsenderContainer.innerHTML = newestMessage.sender;
        
       
        var newsubjectContainer = document.createElement('td');
      		newsubjectContainer.innerHTML = newestMessage.subject;
        	

        var newdateContainer = document.createElement('td');
        	newdateContainer.innerHTML = newestMessage.date;
        
        	


        	newemailRow.appendChild(newsenderContainer);
        	newemailRow.appendChild(newsubjectContainer);
        	newemailRow.appendChild(newdateContainer);

        	var newbodyRow = document.createElement('tr');
        	newbodyRow.className = 'bodyRow';
        	var newbodyContainer = document.createElement('td')
        	newbodyContainer.colSpan = "3";
        	newbodyContainer.innerHTML = newestMessage.body;
        	newbodyRow.appendChild(newbodyContainer);
        	newbodyRow.style.display = 'none';
        	
        	tableBody.appendChild(newemailRow);
        	tableBody.appendChild(newbodyRow);



        	

      }

      
      addMessage();
      

      setInterval(addMessage,1000);

         
        	

        	
      

        
    	
        
      };

     
      

     
	
	

    
      
       
      

      


    </script>
	</head>
	<body>
		<div class="container" id="main">
			<div class='header'>
				<img  class="mainlogo" src="https://www.pactsafe.com/hubfs/gmail-image.jpg" />
				<h3 id="inboxCount"></h3>
				<p><h3 class="fakeinfo">Sent</h3></p>
				<p><h3 class="fakeinfo">Drafts</h3></p>
				<p><h3 class="fakeinfo">Spam</h3></p>
			</div>
			<div class="content">
				<table style="width:100%" id="tableBody">
					<tr class="topheader">
						<th>SENDER</th>
						<tH>SUBJECT</tH>
						<th>DATE</th>
						
					</tr>


					
					
					
					
				</table>

				
				
			</div>
		</div>
	</body>
</html>